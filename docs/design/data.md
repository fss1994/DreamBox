## 数据设计

### 数据结构

DreamBox中只支持：
- 字符串
- 布尔型(`true`,`false`)
- 整型
- 字典（用于json解析）

会由SDK解析，自动推断数据类型

### 数据来源

- `meta` DSL下的`meta`节点用来承载静态（写死）的数据和Runtime请求的新数据。在编写DSL时，可以直接通过`${foo-meta-key}`的方式直接取meta中的数据拿来用
- `ext` DreamBoxView在渲染时，接收接入方传入的透传数据（Json字符串）。这部分透传数据在DSL中有固定关键字`ext`代指

#### 透传字段的最佳实践

- 强烈建议接入方始终传入原数据对等的Json字符串，好处是：在需要DreamBoxView生效时，可以直接接管原数据。当数据不变、布局变的情况下，可以省去内部二次请求新数据的时间，从而直接渲染，提升用户体验
- 同时，建议在透传数据中预留一个字符串字段，用来接收原生Json字符串作为扩展预留。这样，可以预留字段接收新数据，这部分新数据可以在新布局中直接使用


> **透传字段的使用示例**
> <br>
> 外部传入透传数据，其实际json字符串表现为`"{title1:foo,title2:bar,dbd:"{title3:t3}"}"`
> <br>
> 在DSL中可如此使用：`${ext.title1}`。如设计所说，透传字段的设计可以响应新字段，则新字段的使用方式为：`${ext.dbd.title3}`

- `pool` 此外，DB还提供了accessKey维度下的全局数据池。接入方在运行时调用Runtime的API放入（或更新）某数据。在DSL编写时，可针对目标版本做获取，如`${pool.order_id}`

> 字典操作
> `${json-body.foo.bar}`，通过`.`来获取更深层次的json数据，若不能获取则为空数据
